<div class="mostPouplar_container">
    <h2>Most Popular</h2>
    <span></span>

 
        
    <div class="categories">

        <div class="cart active" data-name="all">All</div> 
        <div class="cart" data-name="shoe">Shoe</div> 
        <div class="cart" data-name="wares">Wares</div> 
        <div class="cart" data-name="computer">computer</div> 
        <div class="cart" data-name="phone">Phones</div> 
        <div class="cart" data-name="electronic">electronic</div> 
    
</div>
    

    <div class="popular">

        <% products.forEach(product => { %>
            
            <div class="pro_img mycategory" data-name="<%= product.categories %>">
                
                <a href="/product/<%= product.slug %> ">
                    <img src="./img/upload/<%= product.myfiles[0].filename %> " alt="">
                    
                    <h2><%= product.productName.substr(0,15) %> </h2>
                </a>
                
                <div class="rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
          
               <p id="amount">&#8358 <%= product.amount %> </p>

               <form action="/users/cart/<%= product.id %> " method="POST">
                        <input type="hidden"  name="price"  value="<%= product.amount %> ">
                        <input type="hidden" name="quantity" value="1" id="">
                        <input type="hidden" name="sizes" value="<%= product.sizes %>" id="">
                        <input type="hidden" name="color" value="<%= product.color %>" id="">
                    
                   <button type="submit" id="button">Add to cart</button>

               </form>
            </div>
            <% }) %>       
</div>
</div>





<script>
    const catBtn = document.querySelectorAll(".cart")
    const cartItem = document.querySelectorAll(".mycategory")
    const category = document.querySelector(".categories")
    
    catBtn.forEach(categBtn =>{
        categBtn.addEventListener("click", (e)=>{
            category.querySelector(".active").classList.remove("active")
            categBtn.classList.add("active")

           let cateAttribute = categBtn.getAttribute("data-name")
           
           cartItem.forEach(items =>{
               let myItemAttrribute = items.getAttribute("data-name")
               if(cateAttribute == myItemAttrribute || cateAttribute === "all"){
               
                items.classList.remove("hide")
                items.classList.add("show")
               }else{
                items.classList.remove("show")
                items.classList.add("hide")


               }
           })
        })
    })
</script>
