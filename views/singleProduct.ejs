<div class="singleProduct">
    <div class="showImg">
        <div class="singleImg">
        <img src="../img/upload/<%= single.myfiles[0].filename %> " alt="<%= single.myfiles[0].filename %>" id="show_img">
        </div>
    <div class="selectImg">
        <% single.myfiles.map(selectedImg =>{ %>
            <img src="../img/upload/<%= selectedImg.filename %> " class="select_img" alt="<%= selectedImg.filename %> ">
            
            <%  }) %> 
    </div>
    </div>

    <div class="productInfo">
        <h2 id="title"><%= single.productName %> </h2>
        <div class="rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
        </div>
        <div class="amount">
           <h3>&#x20A6<span><%=single.amount %></span></h3> 
        </div>
        <!-- <p><= single.description %> </p> -->
        <p>Brand:<span><%= single.brand %> </span></p>

        <p>Color:<span><%= single.color %> </span></p> 
    
        <form action="/users/cart/<%= single.id %> " method="POST">
            
           
              <div class="quantity">
                
                <p>quantity : </p>  
                    <div class="count">
                        <input type="button"  class="add" value="+">
                        <input type="text"  value="<%= single.quantity %> " name="quantity" class="show-count">
                        <input type="button"  class="sub" value="-">
                        </div>
                </div> 

<div class="sizes">
    <p>Sizes : </p>  
    <select name="sizes" id="size">
        <% if(single.categories !== "shoe"){ %> 
        <option value="s" <%= single.sizes == 'L' ?  'selected' : "" %> >S</option>
        <option value="m" <%= single.sizes == 'M' ?  'selected' : "" %> >M</option>
        <option value="l" <%= single.sizes == 'L' ?  "selected" : "" %>>L</option>
        <option value="xl" <%= single.sizes == "XL" ?  "selected" : "" %>>XL</option>
        <option value="xxl" <%= single.sizes == "XXL" ?  "selected" : "" %>>XXL</option>
        <option value="xxxl" <%= single.sizes == "XXXL" ?  "selected" : "" %>>XXXL</option>
       <% }else{ %> 
        <option value="1" <%= single.sizes == '1' ?  'selected' : "" %> >1</option>
        <option value="2" <%= single.sizes == '2' ?  'selected' : "" %> >2</option>
        <option value="3" <%= single.sizes == '3' ?  "selected" : "" %>>3</option>
        <option value="4" <%= single.sizes == "4" ?  "selected" : "" %>>4</option>
        <option value="5" <%= single.sizes == "5" ?  "selected" : "" %>>5</option>
        <option value="6" <%= single.sizes == "6" ?  "selected" : "" %>>6</option>
        <option value="7" <%= single.sizes == "7" ?  "selected" : "" %>>7</option>
        <option value="8" <%= single.sizes == "8" ?  "selected" : "" %>>8</option>
        <option value="9" <%= single.sizes == "9" ?  "selected" : "" %>>9</option>
        <option value="10" <%= single.sizes == "10" ?  "selected" : "" %>>10</option>
        <option value="11" <%= single.sizes == "11" ?  "selected" : "" %>>11</option>
        <option value="12" <%= single.sizes == "12" ?  "selected" : "" %>>12</option>
        <option value="13" <%= single.sizes == "13" ?  "selected" : "" %>>13</option>
        <option value="14" <%= single.sizes == "14" ?  "selected" : "" %>>14</option>
        <option value="15" <%= single.sizes == "15" ?  "selected" : "" %>>15</option>
        <option value="16" <%= single.sizes == "16" ?  "selected" : "" %>>16</option>
        <option value="17" <%= single.sizes == "17" ?  "selected" : "" %>>17</option>
        <option value="18" <%= single.sizes == "18" ?  "selected" : "" %>>18</option>
        <option value="19" <%= single.sizes == "19" ?  "selected" : "" %>>19</option>
        <option value="20" <%= single.sizes == "20" ?  "selected" : "" %>>20</option>
        <option value="21" <%= single.sizes == "21" ?  "selected" : "" %>>21</option>
        <option value="22" <%= single.sizes == "22" ?  "selected" : "" %>>22</option>
        <option value="23" <%= single.sizes == "23" ?  "selected" : "" %>>23</option>
        <option value="24" <%= single.sizes == "24" ?  "selected" : "" %>>24</option>
        <option value="25" <%= single.sizes == "25" ?  "selected" : "" %>>25</option>
        <option value="26" <%= single.sizes == "26" ?  "selected" : "" %>>26</option>
        <option value="27" <%= single.sizes == "27" ?  "selected" : "" %>>27</option>
        <option value="28" <%= single.sizes == "28" ?  "selected" : "" %>>28</option>
        <option value="29" <%= single.sizes == "29" ?  "selected" : "" %>>29</option>
        <option value="30" <%= single.sizes == "30" ?  "selected" : "" %>>30</option>
        <option value="31" <%= single.sizes == "31" ?  "selected" : "" %>>31</option>
        <option value="32" <%= single.sizes == "32" ?  "selected" : "" %>>32</option>
        <option value="33" <%= single.sizes == "33" ?  "selected" : "" %>>33</option>
        <option value="34" <%= single.sizes == "34" ?  "selected" : "" %>>34</option>
        <option value="35" <%= single.sizes == "35" ?  "selected" : "" %>>35</option>
        <option value="36" <%= single.sizes == "36" ?  "selected" : "" %>>36</option>
        <option value="37" <%= single.sizes == "37" ?  "selected" : "" %>>37</option>
        <option value="38" <%= single.sizes == "38" ?  "selected" : "" %>>38</option>
        <option value="39" <%= single.sizes == "39" ?  "selected" : "" %>>39</option>
        <option value="40" <%= single.sizes == "40" ?  "selected" : "" %>>40</option>
        <option value="41" <%= single.sizes == "41" ?  "selected" : "" %>>41</option>
        <option value="42" <%= single.sizes == "42" ?  "selected" : "" %>>42</option>
        <option value="43" <%= single.sizes == "43" ?  "selected" : "" %>>43</option>
        <option value="44" <%= single.sizes == "44" ?  "selected" : "" %>>44</option>
        <option value="45" <%= single.sizes == "45" ?  "selected" : "" %>>45</option>
        <option value="46" <%= single.sizes == "46" ?  "selected" : "" %>>46</option>
        <option value="47" <%= single.sizes == "47" ?  "selected" : "" %>>47</option>
        <option value="48" <%= single.sizes == "48" ?  "selected" : "" %>>48</option>
        <option value="49" <%= single.sizes == "49" ?  "selected" : "" %>>49</option>
        <option value="50" <%= single.sizes == "50" ?  "selected" : "" %>>50</option>

        <% } %> 
    </select>
<!--  -->
</div>

        <input type="hidden" value="<%= single.amount %> " name="price" id="">
        <input type="hidden" value="<%= single.color %> " name="color" id="">
        
        <div class="submitBtn">
            <button type="submit">Add to Cart</button>
        </form>


            <!-- <button type="submit">Buy Now</button> -->
        </div>
    </div>
</div>







<script>
    const addUp = document.querySelectorAll(".add")
    const subUp = document.querySelectorAll(".sub")
    const qty = document.querySelector("#qty")
    
    addUp.forEach(add =>{
        add.addEventListener("click", (e)=>{
            
            let input = e.target.parentElement.children[1];
             let inputValue = input.value
             let newValue = parseInt(inputValue) + 1
             input.value = newValue
            

           })
           
            
            
        })

        subUp.forEach(sub =>{
            sub.addEventListener("click", (e)=>{
           
         let input = e.target.parentElement.children[1];
         let inputValue = input.value
         let newValue = parseInt(inputValue) - 1
         input.value = newValue
                
         if(newValue < 1){
         input.value = 1

         }
           })
           
            
            
        })
    
</script>

